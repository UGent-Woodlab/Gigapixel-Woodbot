<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gigapixel Woodbot: CNCClient.CNC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gigapixel Woodbot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>CNCClient</b></li><li class="navelem"><a class="el" href="classCNCClient_1_1CNC.html">CNC</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classCNCClient_1_1CNC-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CNCClient.CNC Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acdd5fdd05a3c40389587829104f0606b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCNCClient_1_1CNC.html#acdd5fdd05a3c40389587829104f0606b">__init__</a> (self, CNC_URI, CNC_MAX_DIM, CNC_MAX_F)</td></tr>
<tr class="separator:acdd5fdd05a3c40389587829104f0606b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafdfd2571dc54e11782a0ffb67fa1bff"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCNCClient_1_1CNC.html#aafdfd2571dc54e11782a0ffb67fa1bff">__del__</a> (self)</td></tr>
<tr class="separator:aafdfd2571dc54e11782a0ffb67fa1bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7507238a0885953d8957cd1298da7240"><td class="memItemLeft" align="right" valign="top"><a id="a7507238a0885953d8957cd1298da7240"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>reset_history</b> (self)</td></tr>
<tr class="separator:a7507238a0885953d8957cd1298da7240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f36c22d8df014be7189e46c8e75a7e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCNCClient_1_1CNC.html#a02f36c22d8df014be7189e46c8e75a7e">add_position_to_history</a> (self, pos, timestamp)</td></tr>
<tr class="separator:a02f36c22d8df014be7189e46c8e75a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9891ba0bc1af014cc3e7330d51fb61d7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCNCClient_1_1CNC.html#a9891ba0bc1af014cc3e7330d51fb61d7">run_gcode</a> (self, gcode)</td></tr>
<tr class="separator:a9891ba0bc1af014cc3e7330d51fb61d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad37fd1180e835a431ae2fdecf5258de8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCNCClient_1_1CNC.html#ad37fd1180e835a431ae2fdecf5258de8">fetch_position</a> (self)</td></tr>
<tr class="separator:ad37fd1180e835a431ae2fdecf5258de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc83667b67fca8bf7ff7853b7767329"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCNCClient_1_1CNC.html#a3fc83667b67fca8bf7ff7853b7767329">move</a> (self, X=0, Y=0, Z=0)</td></tr>
<tr class="separator:a3fc83667b67fca8bf7ff7853b7767329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0961909f9e8f233958fa5c44a905e183"><td class="memItemLeft" align="right" valign="top"><a id="a0961909f9e8f233958fa5c44a905e183"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>set_speed</b> (self, p)</td></tr>
<tr class="separator:a0961909f9e8f233958fa5c44a905e183"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:adf75c7479dc2e06d920b6c2eec9de6de"><td class="memItemLeft" align="right" valign="top"><a id="adf75c7479dc2e06d920b6c2eec9de6de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CNC_URI</b></td></tr>
<tr class="separator:adf75c7479dc2e06d920b6c2eec9de6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4050b8887ab48af75c50dbde0a7cf07"><td class="memItemLeft" align="right" valign="top"><a id="ad4050b8887ab48af75c50dbde0a7cf07"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ws</b></td></tr>
<tr class="separator:ad4050b8887ab48af75c50dbde0a7cf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9960ce6e0a453557b6754f90adbb861"><td class="memItemLeft" align="right" valign="top"><a id="ae9960ce6e0a453557b6754f90adbb861"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>loop</b></td></tr>
<tr class="separator:ae9960ce6e0a453557b6754f90adbb861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4b8666982bc68ccb55d2d9455733344"><td class="memItemLeft" align="right" valign="top"><a id="aa4b8666982bc68ccb55d2d9455733344"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>position</b></td></tr>
<tr class="separator:aa4b8666982bc68ccb55d2d9455733344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2341c0de445cda8bf53a9ecb3951d1df"><td class="memItemLeft" align="right" valign="top"><a id="a2341c0de445cda8bf53a9ecb3951d1df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>h_pos</b></td></tr>
<tr class="separator:a2341c0de445cda8bf53a9ecb3951d1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7bd07e06b41939a19303e34b6b8c081"><td class="memItemLeft" align="right" valign="top"><a id="ac7bd07e06b41939a19303e34b6b8c081"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>max_F</b></td></tr>
<tr class="separator:ac7bd07e06b41939a19303e34b6b8c081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ba843984b5706f07616290adf920e8"><td class="memItemLeft" align="right" valign="top"><a id="a64ba843984b5706f07616290adf920e8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>F</b></td></tr>
<tr class="separator:a64ba843984b5706f07616290adf920e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af377763347d93faf748d7f1dc57c22c2"><td class="memItemLeft" align="right" valign="top"><a id="af377763347d93faf748d7f1dc57c22c2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>x_max</b></td></tr>
<tr class="separator:af377763347d93faf748d7f1dc57c22c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9172ef65a6c9ad0cd6eb5a03281812c"><td class="memItemLeft" align="right" valign="top"><a id="ad9172ef65a6c9ad0cd6eb5a03281812c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>y_max</b></td></tr>
<tr class="separator:ad9172ef65a6c9ad0cd6eb5a03281812c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38ff846059eba76bec8b1503eaeb9d2"><td class="memItemLeft" align="right" valign="top"><a id="aa38ff846059eba76bec8b1503eaeb9d2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>z_max</b></td></tr>
<tr class="separator:aa38ff846059eba76bec8b1503eaeb9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A class to interact with a CNC machine using websockets.

Attributes:
    CNC_URI (str): the URI of the CNC machine
    ws (websockets.client.WebSocketClientProtocol): the websocket connection to the CNC machine
    loop (asyncio.AbstractEventLoop): the event loop used for asynchronous operations
    position (list): the current position of the CNC machine
    h_pos (pandas.DataFrame): a dataframe to keep a history of positions

Methods:
    __init__(self, CNC_URI): initializes a new instance of the CNC class
    __del__(self): deconstructs the websocket connection
    __async__disconnect(self): closes the websocket connection
    __async__connect(self): connects to the CNC machine using a websocket
    add_position_to_history(self, pos, timestamp): adds a position and timestamp to the position history dataframe
    __async__run_gcode(self, gcode): sends GCode to the CNC machine and waits for a response
    __async__fetch_position(self): fetches the current position of the CNC machine
    run_gcode(self, gcode): runs GCode on the CNC machine
    move(self, X=0, Y=0, Z=0): moves the CNC machine to a specified location
    fetch_position(self): fetches the current position of the CNC machine and adds it to the position history dataframe
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acdd5fdd05a3c40389587829104f0606b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdd5fdd05a3c40389587829104f0606b">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def CNCClient.CNC.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>CNC_URI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>CNC_MAX_DIM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>CNC_MAX_F</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initializes a new instance of the CNC class.

Arguments:
     CNC_URI (str): the URI of the CNC machine
</pre> 
</div>
</div>
<a id="aafdfd2571dc54e11782a0ffb67fa1bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafdfd2571dc54e11782a0ffb67fa1bff">&#9670;&nbsp;</a></span>__del__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def CNCClient.CNC.__del__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Deconstructor -&gt; Closes the websocket connection.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a02f36c22d8df014be7189e46c8e75a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f36c22d8df014be7189e46c8e75a7e">&#9670;&nbsp;</a></span>add_position_to_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def CNCClient.CNC.add_position_to_history </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds a position and timestamp to the position history dataframe.

Arguments:
    pos (list): the position to add
    timestamp (float): the timestamp to add
</pre> 
</div>
</div>
<a id="ad37fd1180e835a431ae2fdecf5258de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad37fd1180e835a431ae2fdecf5258de8">&#9670;&nbsp;</a></span>fetch_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def CNCClient.CNC.fetch_position </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">same as __async__fetch_position but then sync
</pre> 
</div>
</div>
<a id="a3fc83667b67fca8bf7ff7853b7767329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc83667b67fca8bf7ff7853b7767329">&#9670;&nbsp;</a></span>move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def CNCClient.CNC.move </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Y</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Z</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Send a gcode command to cnc to move the machine to (X, Y, Z)

Arguments:
    X (float) : x-coordinate
    Y (float) : y-coordinate
    Z (float) : z-coordinate

Returns:
    str: Returns current position of the macine in string format.
</pre> 
</div>
</div>
<a id="a9891ba0bc1af014cc3e7330d51fb61d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9891ba0bc1af014cc3e7330d51fb61d7">&#9670;&nbsp;</a></span>run_gcode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def CNCClient.CNC.run_gcode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">same as __async__run_gcode but then sync
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>acquisition/acquisition-py/cnc/CNCClient.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
