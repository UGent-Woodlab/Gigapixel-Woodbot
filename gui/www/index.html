<!--
 Created on Tue Sep 15 2023

 The MIT License (MIT)
 Copyright (c) 2023 Simon Vansuyt UGent-Woodlab

 Permission is hereby granted, free of charge, to any person obtaining a copy of this software
 and associated documentation files (the "Software"), to deal in the Software without restriction,
 including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
 and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
 subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all copies or substantial
 portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
 TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>woodbot</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/css/Articles-Badges-images.css">
    <link rel="stylesheet" href="assets/css/css/Navbar-Right-Links-Dark-icons.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <nav class="navbar navbar-light navbar-expand-md bg-light py-3">
                        <div class="container"><a class="navbar-brand d-flex align-items-center" href="#"><span class="text-center">Gigapixel Woodbot&nbsp;🤖</span></a><button class="navbar-toggler" data-bs-toggle="collapse"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button></div>
                    </nav>
                    <header></header>
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs card-header-tabs">
                            <li class="nav-item"><a class="nav-link active" href="index.html">Control</a></li>
                            <li class="nav-item"><a class="nav-link" href="acquisition.html">Acquisition</a></li>
                            <li class="nav-item"><a class="nav-link" href="analyse.html">Analyse</a></li>
                            <li class="nav-item"><a class="nav-link" href="calibration.html">Calibration</a></li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="row gy-3 d-grid">
                            <div class="col">
                                <div class="alert alert-warning" id="acquisition-active-alert" role="alert">
                                    The <strong>acquisition interface</strong> isn't <strong>active</strong> at the moment.
                                    If this messegag isn't dissapearing after a while restart the program.
                                </div>
                                <div class="alert alert-danger d-none" id="damage-danger-alert" role="alert">
                                    <strong>Exercise caution:</strong> The machine's head is positioned low and may collide with other objects, <strong> potentially resulting in damage.</strong> Elevate the head for safety.
                                    A recommended approach is to set Z to 0 when moving the head along the X or Y axis.
                                </div>
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Motor Control&nbsp;🎛</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row" data-bs-toggle="tooltip" data-bss-tooltip="">
                                            <div class="col-3 text-start">
                                                <div class="card" style="margin-bottom: 4px;">
                                                    <div class="card-body">
                                                        <div class="container">
                                                            <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                <div class="col text-center order-first">
                                                                    <h5 class="text-start">Current Position:</h5>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col">
                                                                    <div class="row">
                                                                        <div class="col-auto">
                                                                            <h4 class="text-start">X:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h4 class="text-end" id="x_position">? mm</h4>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row text-end">
                                                                        <div class="col-auto text-end">
                                                                            <h4 class="text-start">Y:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h4 class="text-end" id="y_position">? mm</h4>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row text-end">
                                                                        <div class="col-auto text-end">
                                                                            <h4 class="text-start">Z:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h4 class="text-end" id="z_position">? mm</h4>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="container" style="margin-top: 16px;">
                                                            <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                <div class="col text-center order-first">
                                                                    <h5 class="text-start">Current Speed:</h5>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col">
                                                                    <div class="row text-end">
                                                                        <div class="col-auto text-end">
                                                                            <h4 class="text-start">V:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h5 class="text-end" id="speed">?&nbsp;mm/min</h5>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-auto col-xxl-auto">
                                                                            <h4 class="text-start">P:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h4 class="text-end" id="speed_p">?&nbsp;%</h4>
                                                                        </div>
                                                                    </div>
                                                                    <!-- <div class="row text-end">
                                                                        <div class="col-auto text-end">
                                                                            <h4 class="text-start">Y:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h4 class="text-end" id="y_speed">?&nbsp;%</h4>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row text-end">
                                                                        <div class="col-auto text-end">
                                                                            <h4 class="text-start">Z:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h4 class="text-end" id="z_speed">? %</h4>
                                                                        </div>
                                                                    </div> -->
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="container" style="margin-top: 16px;">
                                                            <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                <div class="col text-center order-first">
                                                                    <h5 class="text-start">Height Measure:</h5>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col">
                                                                    <div class="row">
                                                                        <div class="col-auto col-xxl-auto">
                                                                            <h4 class="text-start">D:</h4>
                                                                        </div>
                                                                        <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                                            <h4 class="text-end" id="d_measure">? mm</h4>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col my-auto justify-content-xxl-end">
                                                <div class="row gy-1 d-grid align-items-xxl-start" style="margin-top: 0;">
                                                    <div class="col" style="margin-top: 0;">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                    <div class="col text-center order-first">
                                                                        <h5 class="text-start">Go To Position</h5>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 16px;">
                                                                    <div class="col justify-content-xxl-start">
                                                                        <div class="input-group flex-grow-1 flex-fill justify-content-center"><button class="btn btn-primary flex-fill" id="home" type="button">Home&nbsp;<span style="color: rgb(55, 54, 55);background-color: initial;">🏠</span><br></button><button class="btn btn-primary flex-fill" id="x_max" type="button">X max</button><button class="btn btn-primary flex-fill" id="y_max" type="button">Y max</button><button class="btn btn-primary flex-fill" id="z_max" type="button">Z max</button></div>
                                                                    </div>
                                                                    <div class="col">
                                                                        <div class="input-group"><span class="input-group-text input-group-text">X:</span><input class="form-control form-control" type="number" id="move_cords_x_input" placeholder="0.0"><span class="input-group-text input-group-text">Y:</span><input class="form-control form-control" type="number" id="move_cords_y_input" placeholder="0.0"><span class="input-group-text input-group-text">Z:</span><input class="form-control form-control" type="number" id="move_cords_z_input" placeholder="0.0"><button class="btn btn-primary" id="move_cords" type="button">Go</button></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row row-cols-4 d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                    <div class="col text-center order-first">
                                                                        <h5 class="text-start">XY Axis</h5>
                                                                    </div>
                                                                    <div class="col text-center order-last">
                                                                        <h5 style="text-align: left;">Z Axis</h5>
                                                                    </div>
                                                                </div>
                                                                <div class="row row-cols-4" style="margin-top: 6px;">
                                                                    <div class="col text-start d-flex d-lg-flex justify-content-center align-items-center align-self-center align-items-lg-center" style="margin-left: 0;"><button class="btn btn-primary buttoncnc" id="left_step_button" type="button">← </button></div>
                                                                    <div class="col text-center d-lg-flex justify-content-lg-center align-items-lg-center" style="padding: 0;">
                                                                        <div class="container">
                                                                            <div class="row">
                                                                                <div class="col"><button class="btn btn-primary buttoncnc" id="up_step_button" type="button">↑ </button></div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col"><button class="btn btn-primary buttoncnc" id="down_step_button" type="button" style="margin-top: 6px;">↓ </button></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col text-start d-flex d-lg-flex justify-content-center align-items-center align-self-center align-items-lg-center" style="padding: 0;"><button class="btn btn-primary buttoncnc" id="right_step_button" type="button">→</button></div>
                                                                    <div class="col text-center d-lg-flex justify-content-lg-center align-items-lg-center" style="padding: 0;">
                                                                        <div class="container" style="border-radius: 0px;border-bottom-color: var(--bs-border-color);border-left: 1.5px solid var(--bs-border-color);">
                                                                            <div class="row">
                                                                                <div class="col"><button class="btn btn-primary buttoncnc" id="z_up_step_button" type="button">↑ </button></div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col"><button class="btn btn-primary buttoncnc" id="z_down_step_button" type="button" style="margin-top: 6px;">↓ </button></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 16px;">
                                                                    <div class="col">
                                                                        <h6>Step Size</h6>
                                                                        <div class="d-lg-flex align-items-lg-center btn-group btn-group-toggle" id="step_size_group" data-bs-toggle="buttons"><label class="form-label form-label active btn btn-outline-primary step-size-label">0.1 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="0.1"></label><label class="form-label form-label btn btn-outline-primary step-size-label">0.5 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="0.5"></label><label class="form-label form-label btn btn-outline-primary step-size-label">1 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="1"></label><label class="form-label form-label btn btn-outline-primary step-size-label">5 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="5"></label><label class="form-label form-label btn btn-outline-primary step-size-label">10 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="10"></label><label class="form-label form-label btn btn-outline-primary step-size-label">50 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="50"></label><label class="form-label form-label btn btn-outline-primary step-size-label">100 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="100"></label><label class="form-label form-label btn btn-outline-primary step-size-label">500 mm<input type="radio" class="btnradio step-size-cnc" name="btnradio" value="500"></label></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                    <div class="col text-center order-first">
                                                                        <h5 class="text-start">Axis Speed</h5>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 16px;">
                                                                    <div class="col-2">
                                                                        <h6 class="text-muted mb-2">Axis speed</h6>
                                                                    </div>
                                                                    <div class="col"><input type="range" class="form-range" id="speed_slider" min="0" max="100"></div>
                                                                    <div class="col-2" style="text-align: center;">
                                                                        <h6 class="text-end text-muted mb-2" id="speed_value">? %</h6>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 16px;">
                                                                    <div class="col-2 flex-fill">
                                                                        <div class="row flex-fill justify-content-start" style="padding: 0 32px"><button class="btn btn-primary" style="font-size: 1.3em;" id="down_speed" type="button"> ← </button></div>
                                                                    </div>
                                                                    <div class="col-2 flex-fill">
                                                                        <div class="row flex-fill justify-content-end" style="padding: 0 32px"><button class="btn btn-primary" style="font-size: 1.3em;" id="up_speed" type="button"> → </button></div>
                                                                    </div>
                                                                </div>
                                                                <!-- <div class="row" style="margin-top: 16px;">
                                                                    <div class="col-2">
                                                                        <h6 class="text-muted mb-2">Y axis</h6>
                                                                    </div>
                                                                    <div class="col"><input type="range" class="form-range" id="y_speed_slider" min="0" max="100"></div>
                                                                    <div class="col-2" style="text-align: center;">
                                                                        <h6 class="text-end text-muted mb-2" id="y_speed_value">?</h6>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 16px;">
                                                                    <div class="col-2">
                                                                        <h6 class="text-muted mb-2">Z axis</h6>
                                                                    </div>
                                                                    <div class="col"><input type="range" class="form-range" id="z_speed_slider" min="0" max="100"></div>
                                                                    <div class="col-2" style="text-align: center;">
                                                                        <h6 class="text-end text-muted mb-2" id="z_speed_value">?</h6>
                                                                    </div>
                                                                </div> -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                    <div class="col text-center order-first">
                                                                        <h5 class="text-start">Send G-Code</h5>
                                                                    </div>
                                                                </div>
                                                                <div class="input-group"><input class="form-control form-control" type="text" id="gcode_input" placeholder="G0 X0 Y0 Z0"><button class="btn btn-primary" id="gcode_send_button" type="button">Send</button></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Camera Control&nbsp;📷<br></h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row" data-bs-toggle="tooltip" data-bss-tooltip="">
                                            <div class="col-3 text-start">
                                                <div class="card" style="margin-bottom: 4px;">
                                                    <div class="card-body">
                                                        <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 0;">
                                                            <div class="col text-center order-first">
                                                                <h5 class="text-start">View Control</h5>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col">
                                                                <div class="row gy-2 d-inline-flex d-lg-flex flex-column align-items-lg-start" style="padding-top: 0px;margin-top: 0px;margin-bottom: 8px;">
                                                                    <div class="col" style="margin-bottom: -6px;">
                                                                        <h6>Camera Name:</h6>
                                                                    </div>
                                                                    <div class="col">
                                                                        <div class="input-group">
                                                                            <span id="camera_name_span" class="input-group-text flex-grow-1">Teledyne DALSA Nano XL</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gy-1 row-cols-1" style="margin-top: 6px;">
                                                                    <div class="col" style="margin-bottom: -6px;">
                                                                        <h6>Control Buttons:</h6>
                                                                    </div>
                                                                    <div class="col justify-content-xxl-start"><button class="btn btn-primary flex-fill" id="update_view" type="button">Update View</button></div>
                                                                    <div class="col"><a href="http://localhost:5000/camera/view.tiff" download="current_view.jpg" target="_blank"><button class="btn btn-primary flex-fill" id="download_view" type="button">Download Current View</button></a></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col my-auto justify-content-xxl-end">
                                                <div class="row gy-1 d-grid align-items-xxl-start" style="margin-top: 0;">
                                                    <div class="col" style="margin-top: 0;">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row d-xl-flex flex-fill justify-content-between" style="border-bottom: 1.5px solid var(--bs-border-color);margin-bottom: 18px;">
                                                                    <div class="col text-center order-first">
                                                                        <h5 class="text-start">Current View</h5>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 16px;">
                                                                    <div class="col d-flex d-xxl-flex justify-content-center align-items-center justify-content-xxl-center align-items-xxl-center" id="current_view_image"><img style="width: 1024;height: 1024;" src="http://localhost:5000/camera/current_view.jpg" width="600"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Laser Sensor&nbsp;<span style="color: rgb(224, 224, 224);background-color: initial;">🔦</span><br></h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-auto">
                                                <h4 class="text-start">Distance:</h4>
                                            </div>
                                            <div class="col text-end d-xxl-flex justify-content-xxl-end">
                                                <h4 class="text-end" id="laser_value">? mm</h4>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col justify-content-xxl-start"><button class="btn btn-primary flex-fill" id="camera_to_laser" type="button">Change laser and camera setup</button></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class="text-center py-4">
                        <div class="container">
                            <div class="row row-cols-1 row-cols-lg-3">
                                <div class="col">
                                    <p class="text-muted my-2">Copyright&nbsp;© 2023 Ghent University</p>
                                </div>
                                <div class="col"><img src="assets/img/logo-woodlab.jpg" width="100px"></div>
                                <div class="col">
                                    <ul class="list-inline my-2">
                                        <li class="list-inline-item list-inline-item"><a class="link-secondary" href="#">Privacy Policy</a></li>
                                        <li class="list-inline-item list-inline-item"><a class="link-secondary" href="#">Terms of Use</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/control_rest.js"></script>
    <script src="assets/js/radio_select.js"></script>
</body>

</html>
